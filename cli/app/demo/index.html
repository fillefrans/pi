<!doctype html>
<html>
<head>
  <script>
    var 
      π  = {
        DEBUG : true,
        __sessionstart : (new Date()).getTime()
      };
  </script>

  <title>π demo</title>

  <meta charset="utf-8">
  <meta name="viewport"  content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">  
  
  <link rel="stylesheet" href="../../assets/css/pi.core.css">

  <link rel="shortcut icon" href="assets/ico/favicon.ico">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/icon-114.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72"   href="assets/ico/icon-72.png">
  <link rel="apple-touch-icon-precomposed"                 href="assets/ico/icon-57.png">
</head>
 
<body class="pi">

  <div id="login" class="pcl" data-name="pcl.dialogs.login">
    <!--  set classes "pcl" and "component" to mark as PCL component -->
    <!--  then the PCL bootstrapper will load the component given in attribute "data-name" -->
  </div>


  <div id="numberstation" class="pcl" data-name="pcl.debug.numberstation">
    <script>

      var 
        numberstation = document.getElementById("numberstation"),
        randomWalk = {

          eventsource : null,
          starttime   : null,

          __onerror : function (err) {
            pi.log("Error in randomWalk: ", err);
          },


          onRandomWalk : function (randomNumber) {
            pi.log("randomWalk: " + randomNumber, randomNumber);
          },

          run : function() {
            pi.log("starting randomWalk listener...");
            this.starttime    = new Date().getTime();
            this.eventsource  = pi.listen("pi.service.numberstation.randomwalk", this.onRandomWalk, this.__onerror);
            pi.log("done.", this.eventsource);
            pi.log("onmessage:", this.eventsource.onmessage);
          }
        };

      window.addEventListener("load", function() {
        pi.maverick.randomWalk = randomWalk;
        pi.maverick.randomWalk.run();
      }, false);


    </script>
  </div>

  <div id="debug" class="pcl" data-name="pcl.debug.debugger">
  </div>

  <script src="assets/js/lib/gsap/TimelineMax.min.js"></script>
  <script src="assets/js/lib/gsap/TweenMax.min.js"></script>
  <script src="assets/js/lib/raphael.min.js"></script>
  <script src="../../assets/js/lib/crossfilter.min.js"></script>


  <!--  bootstrap pi -->
  <script src="../../assets/js/pi.core.js"></script>


  <!--  bootstrap pcl 
    <script src="../../assets/js/pi.pcl.js"></script>
  -->

</body>
</html>